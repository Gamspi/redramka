"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[816],{9816:function(e,n,r){r.r(n),r.d(n,{default:function(){return V}});var t=r(885),i=r(2791),s=r(9295),c=r(184),o=function(e){var n=e.isLoading;return(0,c.jsx)(s.Z,{in:n,classNames:"loading",timeout:800,unmountOnExit:!0,mountOnEnter:!0,children:(0,c.jsx)("div",{className:"loading",children:(0,c.jsx)("div",{className:"loading__body",children:(0,c.jsx)("p",{children:"Loading...."})})})})},a=r(3366),d=r(7462);var u=r(1721),l=r(5545);function m(e,n){var r=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,i.isValidElement)(e)?n(e):e}(e)})),r}function f(e,n,r){return null!=r[n]?r[n]:e.props[n]}function h(e,n,r){var t=m(e.children),s=function(e,n){function r(r){return r in n?n[r]:e[r]}e=e||{},n=n||{};var t,i=Object.create(null),s=[];for(var c in e)c in n?s.length&&(i[c]=s,s=[]):s.push(c);var o={};for(var a in n){if(i[a])for(t=0;t<i[a].length;t++){var d=i[a][t];o[i[a][t]]=r(d)}o[a]=r(a)}for(t=0;t<s.length;t++)o[s[t]]=r(s[t]);return o}(n,t);return Object.keys(s).forEach((function(c){var o=s[c];if((0,i.isValidElement)(o)){var a=c in n,d=c in t,u=n[c],l=(0,i.isValidElement)(u)&&!u.props.in;!d||a&&!l?d||!a||l?d&&a&&(0,i.isValidElement)(u)&&(s[c]=(0,i.cloneElement)(o,{onExited:r.bind(null,o),in:u.props.in,exit:f(o,"exit",e),enter:f(o,"enter",e)})):s[c]=(0,i.cloneElement)(o,{in:!1}):s[c]=(0,i.cloneElement)(o,{onExited:r.bind(null,o),in:!0,exit:f(o,"exit",e),enter:f(o,"enter",e)})}})),s}var x=Object.values||function(e){return Object.keys(e).map((function(n){return e[n]}))},v=function(e){function n(n,r){var t,i=(t=e.call(this,n,r)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t));return t.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},t}(0,u.Z)(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,t,s=n.children,c=n.handleExited;return{children:n.firstRender?(r=e,t=c,m(r.children,(function(e){return(0,i.cloneElement)(e,{onExited:t.bind(null,e),in:!0,appear:f(e,"appear",r),enter:f(e,"enter",r),exit:f(e,"exit",r)})}))):h(e,s,c),firstRender:!1}},r.handleExited=function(e,n){var r=m(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(n),this.mounted&&this.setState((function(n){var r=(0,d.Z)({},n.children);return delete r[e.key],{children:r}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,t=(0,a.Z)(e,["component","childFactory"]),s=this.state.contextValue,c=x(this.state.children).map(r);return delete t.appear,delete t.enter,delete t.exit,null===n?i.createElement(l.Z.Provider,{value:s},c):i.createElement(l.Z.Provider,{value:s},i.createElement(n,t,c))},n}(i.Component);v.propTypes={},v.defaultProps={component:"div",childFactory:function(e){return e}};var p=v,j=r(2380),E=r(4222),b=function(){var e=(0,j.X)((function(e){return e.cards})).isSuccess,n=(0,E.B)().setIsSuccess;return(0,c.jsx)(s.Z,{in:e,timeout:200,classNames:"success",unmountOnExit:!0,mountOnEnter:!0,children:(0,c.jsxs)("div",{className:"success",onClick:function(){n(!1)},children:[(0,c.jsx)("h1",{children:"Success"}),(0,c.jsx)("p",{children:"You have successfully deleted the card"})]})})},_=(0,i.memo)(b),N=r(6871),y=function(){var e=(0,j.X)((function(e){return e.cards})),n=e.isConfirm,r=e.activeCard,t=(0,E.B)(),i=t.setIsConfirm,o=t.deleteCardFunction,a=(0,N.UO)().id,d=(0,N.s0)();return(0,c.jsx)(s.Z,{in:n,timeout:500,classNames:"confirm",unmountOnExit:!0,mountOnEnter:!0,children:(0,c.jsx)("div",{className:"confirm",children:(0,c.jsxs)("div",{className:"confirm__body",children:[(0,c.jsx)("p",{children:"Are you sure you want to delete the card?"}),(0,c.jsxs)("div",{className:"confirm__buttons",children:[(0,c.jsx)("button",{onClick:function(){o(r._id),i(!1),a&&d("/redramka")},disabled:!n,children:"Yes"}),(0,c.jsx)("button",{onClick:function(){i(!1)},disabled:!n,children:"No"})]})]})})})},C=i.memo(y),k=r(3504),g=function(e){var n=e.name,r=e.trips,t=e.id,i=(0,E.B)().setIsConfirm,s=(0,j.X)((function(e){return e.cards})).cards;return(0,c.jsxs)("div",{className:"card",children:[(0,c.jsx)(k.rU,{to:s.find((function(e){return e._id===t}))?"card/".concat(t):"#",children:(0,c.jsx)("div",{className:"card__body",children:(0,c.jsxs)("div",{className:"card__info",children:[(0,c.jsxs)("h2",{children:["Name: ",n]}),(0,c.jsxs)("p",{children:["Trips: ",r]})]})})}),(0,c.jsx)("button",{className:"card__button",onClick:function(){return i(!0)},children:"\u2718"})]})},O=function(){var e=(0,j.X)((function(e){return e.cards})).isError,n=(0,E.B)().setIsError;return(0,c.jsx)(s.Z,{in:e,timeout:500,classNames:"error-card",unmountOnExit:!0,mountOnEnter:!0,children:(0,c.jsx)("div",{className:"error-card",children:(0,c.jsxs)("div",{className:"error-card__body",children:[(0,c.jsx)("h2",{className:"error-card__title",children:"Error"}),(0,c.jsx)("div",{className:"error-card__title",children:"Some error has occurred"}),(0,c.jsx)("button",{className:"error-card__button",onClick:function(){return n(!1)},children:"\u2718"})]})})})},Z=i.memo(O);var S=function(){var e=(0,N.UO)().id,n=(0,j.X)((function(e){return e.cards})),r=n.isLoading,a=n.cards,d=n.isConfirm,u=n.isError,l=(0,E.B)(),m=l.setActivCard,f=(l.setIsConfirm,function(e){var n=(0,i.useState)(""),r=(0,t.Z)(n,2),s=r[0],c=r[1];return(0,i.useEffect)((function(){document.body.setAttribute("data-".concat(e),s)}),[s]),[c]}("fixed")),h=(0,t.Z)(f,1)[0];return(0,i.useEffect)((function(){h(d||u||e?"true":"")}),[d,u,e]),(0,c.jsxs)("div",{className:"PassengersList",children:[(0,c.jsx)(Z,{}),(0,c.jsx)(o,{isLoading:r}),(0,c.jsx)(_,{}),(0,c.jsx)(C,{}),(0,c.jsx)("div",{className:"PassengersList__body",children:(0,c.jsx)(p,{component:"ul",children:a.map((function(e){return(0,c.jsx)(s.Z,{timeout:500,classNames:"item",children:(0,c.jsx)("li",{className:"item",onClick:function(){return m(e)},children:(0,c.jsx)(g,{id:e._id,trips:e.trips,name:e.name})})},e._id)}))})}),(0,c.jsx)(N.j3,{})]})},V=i.memo(S)}}]);
//# sourceMappingURL=816.12c8c842.chunk.js.map